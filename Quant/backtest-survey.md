### 交易库支持的编程范式
>交易库包含实盘交易、模拟盘交易和回测。
>最优雅的方式是“一套代码、处处运行”

+ pre：
	+ 网关gateway，所有交易最终都是通过网站的API，各个系统有各自的封装，不同系统中的称呼不同，这里统称网关

其他系统的优势在于“自研网关”，那么完全可以把网关做成“阴阳壶”，在实盘的时候连接网站，在回测的时候连接自己的东西。  
没有自研网关的回测系统，比如backtrader都是需要实盘策略和交易策略两份代码的。

#### 基于事件驱动

+ 事件驱动引擎event engine：把它黑盒魔法，它的功能是如果发生什么**事件**、会调用什么**函数**。这里的事件检测、调用都是自动的。

这样的系统的策略编程范式通常都是继承它提供的基类。这样在语法层面就限制了用户必须要实现什么方法，从而保证**事件驱动引擎一定会有那些函数**  
而这些被基类限制的“方法”，就是用户唯一能操纵的时刻。

所以这类平台的实盘交易模型是这样的，事件驱动引擎会不断的监控市场情况，一旦发生了某些事件，就调用对应的策略中的方法  
这里的事件是固定的，是被系统限制的，我们的策略只能在系统提供的几个事件中行动。

![event model](https://cdn.jsdelivr.net/gh/zweix123/CS-notes@master/resource/Quant/event%20model.png)  

这样系统的好处是容易写回测，用户的代码不用修改修改，回测直接变成这样

![backtest model](https://cdn.jsdelivr.net/gh/zweix123/CS-notes@master/resource/Quant/backtest%20model.png)

