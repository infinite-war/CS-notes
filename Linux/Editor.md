## Intro

在1976年没有Linux操作系统时(1991)，就已经有了编辑器vi，现在几乎大部分Linux操作系统都默认安装vi，而vim即为`vi improved` — vi的增强版，neovim则是它们的一个分支，意在重构和重写vim的核心部分来实现更好的性能、可扩展性和可定制性，随着两者的发展，已经越来越不兼容，希望下面的命令在两边都能用吧。

+ Reference：
	+ [阮一峰](https://www.ruanyifeng.com/blog/2018/09/vimrc.html)
	+ [陈皓](https://coolshell.cn/articles/5426.html)

## Install

|         | vim   | neovim                                                                   |
| ------- | ----- | ------------------------------------------------------------------------ |
| windows | scoop | [scoop](https://github.com/neovim/neovim/wiki/Installing-Neovim#scoop)   |
| linux   |       | [Manual](https://github.com/neovim/neovim/wiki/Installing-Neovim#ubuntu) |

## Config
>Config分成配置文件和插件

### Vim

+ 配置文件位置可通过`:version`查看
+ 插件位置可通过`:set rtp`查看
+ 配色：使用命令`colorscheme 配色名`来设置，其中配色名来自插件目录下的`colors`下的`.vim`文件  
	比如：  
	```vim
	colorscheme gruvbox
	set background=dark  
	```

+ 插件：在vim 8提供官方的插件管理方式/内置包管理器，可通过`:help packages`查看manual
	+ Reference：
		+ [这里提供了一个配置上云的方案](https://blog.hulifa.cn/2019-10-20-Vim-8%E5%86%85%E7%BD%AE%E5%8C%85%E7%AE%A1%E7%90%86%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/)

## Use

+ 功能：
  1. 命令行模式下的文本编辑器
  2. 根据文本扩展名自动判别编程语言。支持代码缩进、代码高亮等功能
  3. 使用方式：`vim filename`或者`nvim filename`
     + 如果已有该文件，则打开它
     + 如果没有该文件，则打开一个新的文件，并命名为`filename`

+ 模式：
  1. 一般命令模式（默认）：可进行复制、粘贴、删除。
  2. 编辑模式：   
     在一般命令模式里按`i`，进入编辑模式  
     `按下ESC`退出编辑模式，返回到编辑模式
  3. 命令行模式：在一般命令模式按下`:`、`/`、`?`三个字母中的任意一个，进入命令行模式，命令行在最下面，可进行查找、替换、保存、退出、配置编辑器等

+ 命令：
  1. `i`：进入编辑模式
  2. `ESC`：进入一般命令模式
  3. `h`或`左箭头键`：光标向左移动一个字符
     `j`或`向下箭头`：光标向下移动一个字符
     `k`或`向上箭头`：光标向上移动一个字符
     `l`或`向右箭头`：光标向右移动一个字符
  4. `数字+空格`：光标向右移动数字大小个字母
     `数字+回车`：光标向下移动数字大小个行
  5. `0`或`功能键[Home]`：光标移动到本行开头
  6. `$`或`功能键[End]`：光标移动到本行末尾
  7. `G`：光标移动到最后一行
     `:数字`/`数字G`：光标移动到第n行
     `gg`：光标移动到第一行，相当于`1G`
  8. 查找：
     + `/word`：向光标之下寻找第一个值为word的字符串
     + `?word`：向光标之上寻找第一个值为word的字符串
     + `n`：重复前一个查找操作
     + `N`：反向重复前一个查找操作

  9. 替换：
     + `:数字1,数字2s/word1/word2/g`：在数字1和数字2行之间的word1替换成word2
       `:1,$s/word1/word2/g`：全文替换
       `:1,$s/word1/word2/gc`：全文替换，并且在替换前询问用户
  + `:noh`：取消高亮
  10. `v`：选中文本
      `d`（剪切）：删除选中的文本
      `dd`（剪切）：删除当前行
      `y`：复制选中的文本
      `yy`：复制当前行
      `p`：将复制的数据在光标的下一位置粘贴
	+ 在多行前插入注释：
		1. `Ctrl + v`
		2. 选择行
		3. `I`（大写）
		4. 编辑一行
		5. `Esc`
	+ 删除多行注释
		1. `Ctrl + v`
		2. 选择行
		3. `dd`
	+ `.`重复上次命令
  1. `u`：撤销
      `Ctrl + r`：取消撤销
  12. `shift + >`：将选中的文本整体向右缩进一次  
	`shift + <`：将选中的文本整体向左缩进一次

  13. `:w`保存（`:w 文件名`）
      `:w!`强制保存
      `:q`退出
      `:q!`：强制退出
      `:wq`保存并退出

  14. `:set paste`设置成粘贴模式，取消代码自动缩进
      `:set nopaste`取消粘贴模式，开启代码自动缩进
      `:set nu`显示行号
      `:set nonu`隐藏行号

  15. 连招`gg=G`：将全文代码格式化
  16. `Ctrl + q`：当vim卡死时，可以取消当前正在执行的命令
+ `set nowrap`取消折行

+ 常见异常/异常处理：
  >  每次用vim编辑文件时，会自动创建一个.filename.swp的临时文件。

  + 如果打开某个文件时，该文件的swp文件已存在，则会报错。此时解决办法有两种
    1. 找到正在打开该文件的程序，并退出
    2. 直接删掉该swp文件即可

---

+ 打开目录：
	+ `enter`下一级目录或者进入，`-`上一级目录
	+ `:Ex`从文件中退出到文件的目录中

+ Tab：
	+ `vim -p file1 file2`
	+ 命令模式`gt`一次切换
	+ `tabnew filename`新建tab

+ 在命令模式前缀`!`可以使用Shell命令，其中`%`表示现在vim中的内容