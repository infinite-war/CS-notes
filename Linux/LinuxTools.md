# 终端复用器tmux

+ 功能：
  1. 分屏
  2. 允许断开ssh连接后，继续运行进程
     > `top`：查看进程（任务管理器）

     服务器中的进程如果断开连接则停止

+ 结构：树形：一个tmux可包含多个session，每个session可包含多个window，每个window可包含多个pane，其中pane是最小单位，每个pane都会打开一个shell对话框
	>通常开一个session只放一个windows，然后这个windows中开多个pane

1. `tmux`：新建一个session，包含一个window，window中包含一个pane，pane里打开了一个shell对话框
2. `按下Ctrl + a后手指松开，然后按%`：将当前pane左右平分成两个pane  
	`按下Ctrl + a后手指松开，然后按"`：将当前pane左右平分成两个pane
3. `鼠标点击`选择pane  
	`按下Ctrl + a后手指松开，使用方向键`选择pane  
	按住`Alt`键然后使用方向键选择pane
4. 鼠标拖动pane之间的分割线，可以调整分割线的位置  
	`按下Ctrl + a的同时使用方向键`调整分割线。
5. `按下Ctrl + a后手指松开，然后按z`：将当前pane全屏/取消全屏
6. `Ctrl + d`：关闭当前pane，如果当前window的所有pane均已关闭，则自动关闭window，如果当前session的所有window均已关闭，则自动关闭session
7. `按下Ctrl + a后手指松开，然后按d`：挂起当前session
	`tmux a`/`tmux attch`：返回挂起的session

+ `按下Ctrl + a后手指松开，然后按s`：选择其他session
	+ 方向键——上，选择上一项 session/window/pane
	+ 方向键——下，选择下一项 session/window/pane
	+ 方向键——右，展开当前项 session/window
	+ 方向键——做，闭合当前项 session/window
+ `按下Ctrl + a后手指松开，然后按c`：在当前session中创建一个新的window
+ `按下Ctrl + a后手指松开，然后按w`：选择其他window
	+ 方向键——上，选择上一项 session/window/pane
	+ 方向键——下，选择下一项 session/window/pane
	+ 方向键——右，展开当前项 session/window
	+ 方向键——做，闭合当前项 session/window

8. 复制粘贴：
	+ tmux内复制粘贴：
		+ `Ctrl + a`后松开手指，然后按`[`进入复制模式，之后鼠标选中的文本进入**tmux**的粘贴板。
		+ `Ctrl + a`后松开手指，然后按`]`，将tmux粘贴板中的文本粘贴出来
	+ tmux和其他软件复制粘贴：
		+ 选中：按`shift`键同时鼠标选中
		+ 之后复制粘贴同Shell

# 文本编辑器vim

+ 功能：
  1. 命令行模式下的文本编辑器
  2. 根据文本扩展名自动判别编程语言。支持代码缩进、代码高亮等功能
  3. 使用方式：`vim filename`
     + 如果已有该文件，则打开它
     + 如果没有该文件，则打开一个新的文件，并命名为`filename`

+ 模式：
  1. 一般命令模式（默认）：可进行复制、粘贴、删除。
  2. 编辑模式：   
     在一般命令模式里按`i`，进入编辑模式  
     `按下ESC`退出编辑模式，返回到编辑模式
  3. 命令行模式：在一般命令模式按下`:`、`/`、`?`三个字母中的任意一个，进入命令行模式，命令行在最下面，可进行查找、替换、保存、退出、配置编辑器等

+ 命令：
  1. `i`：进入编辑模式
  2. `ESC`：进入一般命令模式
  3. `h`或`左箭头键`：光标向左移动一个字符
     `j`或`向下箭头`：光标向下移动一个字符
     `k`或`向上箭头`：光标向上移动一个字符
     `l`或`向右箭头`：光标向右移动一个字符
  4. `数字+空格`：光标向右移动数字大小个字母
     `数字+回车`：光标向下移动数字大小个行
  5. `0`或`功能键[Home]`：光标移动到本行开头
  6. `$`或`功能键[End]`：光标移动到本行末尾
  7. `G`：光标移动到最后一行
     `:数字`/`数字G`：光标移动到第n行
     `gg`：光标移动到第一行，相当于`1G`
  8. 查找：
     + `/word`：向光标之下寻找第一个值为word的字符串
     + `?word`：向光标之上寻找第一个值为word的字符串
     + `n`：重复前一个查找操作
     + `N`：反向重复前一个查找操作

  9. 替换：
     + `:数字1,数字2s/word1/word2/g`：在数字1和数字2行之间的word1替换成word2
       `:1,$s/word1/word2/g`：全文替换
       `:1,$s/word1/word2/gc`：全文替换，并且在替换前询问用户
  + `:noh`：取消高亮
  10. `v`：选中文本
      `d`（剪切）：删除选中的文本
      `dd`（剪切）：删除当前行
      `y`：复制选中的文本
      `yy`：复制当前行
      `p`：将复制的数据在光标的下一位置粘贴
	+ 在多行前插入注释：
		1. `Ctrl + v`
		2. 选择行
		3. `I`（大写）
		4. 编辑一行
		5. `Esc`
	+ 删除多行注释
		1. `Ctrl + v`
		2. 选择行
		3. `dd`

  11. `u`：撤销
      `Ctrl + r`：取消撤销
  12. `shift + >`：将选中的文本整体向右缩进一次  
	`shift + <`：将选中的文本整体向左缩进一次

  13. `:w`保存（`:w 文件名`）
      `:w!`强制保存
      `:q`退出
      `:q!`：强制退出
      `:wq`保存并退出

  14. `:set paste`设置成粘贴模式，取消代码自动缩进
      `:set nopaste`取消粘贴模式，开启代码自动缩进
      `:set nu`显示行号
      `:set nonu`隐藏行号

  15. 连招`gg=G`：将全文代码格式化
  16. `Ctrl + q`：当vim卡死时，可以取消当前正在执行的命令

+ 常见异常/异常处理：
  >  每次用vim编辑文件时，会自动创建一个.filename.swp的临时文件。

  + 如果打开某个文件时，该文件的swp文件已存在，则会报错。此时解决办法有两种
    1. 找到正在打开该文件的程序，并退出
    2. 直接删掉该swp文件即可